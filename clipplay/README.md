# ğŸ¬ ClipPlay - ê°€ì¡± ë¹„ë””ì˜¤ ìŠ¤íŠ¸ë¦¬ë°

<div align="center">

[![Live Demo](https://img.shields.io/badge/ğŸš€_Live_Demo-clipplay.pages.dev-gray?style=for-the-badge)](https://clipplay.pages.dev/)
[![Next.js](https://img.shields.io/badge/Next.js-16.0-black?style=for-the-badge&logo=next.js)](https://nextjs.org/)
[![React](https://img.shields.io/badge/React-19.2-61DAFB?style=for-the-badge&logo=react)](https://react.dev/)
[![TypeScript](https://img.shields.io/badge/TypeScript-5-blue?style=for-the-badge&logo=typescript)](https://www.typescriptlang.org/)
[![Cloudflare](https://img.shields.io/badge/Cloudflare-R2_&_Pages-F38020?style=for-the-badge&logo=cloudflare)](https://cloudflare.com/)

**ê°€ì¡±ì˜ ì†Œì¤‘í•œ ìˆœê°„ì„ TikTok ìŠ¤íƒ€ì¼ë¡œ ê°ìƒí•˜ì„¸ìš”!** âœ¨

[ğŸ¯ ì£¼ìš” ê¸°ëŠ¥](#-ì£¼ìš”-ê¸°ëŠ¥) | [ğŸ—ï¸ ê¸°ìˆ  ìŠ¤íƒ](#%EF%B8%8F-ê¸°ìˆ -ìŠ¤íƒ) | [ğŸ’» ë¡œì»¬ ì‹¤í–‰](#-ë¡œì»¬ì—ì„œ-ì‹¤í–‰í•˜ê¸°) | [ğŸ“± ì‚¬ìš©ë²•](#-ì‚¬ìš©-ë°©ë²•)

</div>

---

## ğŸ¯ í”„ë¡œì íŠ¸ ì†Œê°œ

ClipPlayëŠ” **ê°€ì¡± ë™ì˜ìƒì„ ìœ„í•œ í”„ë¼ì´ë¹— ë¹„ë””ì˜¤ ìŠ¤íŠ¸ë¦¬ë° í”Œë«í¼**ì…ë‹ˆë‹¤.

ì„¸ë¡œ ì˜ìƒì— ìµœì í™”ëœ TikTok ìŠ¤íƒ€ì¼ì˜ í’€ìŠ¤í¬ë¦° í”¼ë“œë¡œ ì†Œì¤‘í•œ ì¶”ì–µì„ ê°ìƒí•˜ê³ , íŠ¹ë³„í•œ ë‚ ì§œì˜ ì˜ìƒì„ ëª¨ì•„ë³´ëŠ” "ì¶”ì–µ ëª¨ìŒ" ê¸°ëŠ¥ìœ¼ë¡œ ê³¼ê±°ì˜ ìˆœê°„ë“¤ì„ ë‹¤ì‹œ ë§Œë‚˜ë³´ì„¸ìš”! ğŸ“¹âœ¨

### âœ¨ ì£¼ìš” ê¸°ëŠ¥

- ğŸ“± **ì„¸ë¡œ ìŠ¤ì™€ì´í”„ í”¼ë“œ** - TikTokì²˜ëŸ¼ ìœ„ì•„ë˜ë¡œ ìŠ¤ì™€ì´í”„í•˜ë©° ì˜ìƒ ê°ìƒ
- ğŸ–¼ï¸ **ê·¸ë¦¬ë“œ ë·°** - ì¸ë„¤ì¼ë¡œ ì˜ìƒ ëª©ë¡ì„ í•œëˆˆì— í™•ì¸
- ğŸ’• **ì¶”ì–µ ëª¨ìŒ** - íŠ¹ì • ë‚ ì§œ/ì›”/ì—°ë„ë³„ë¡œ ì˜ìƒ í•„í„°ë§
- ğŸ” **Google OAuth ê´€ë¦¬ì** - í—ˆìš©ëœ ì‚¬ìš©ìë§Œ ì—…ë¡œë“œ ê°€ëŠ¥
- ğŸ“¤ **ëŒ€ìš©ëŸ‰ ì—…ë¡œë“œ** - 200MBê¹Œì§€ ì§ì ‘ R2 ì—…ë¡œë“œ (ì§„í–‰ë¥  í‘œì‹œ)
- ğŸ¨ **ë‹¤í¬/ë¼ì´íŠ¸ í…Œë§ˆ** - ëˆˆì´ í¸í•œ í…Œë§ˆ ì„ íƒ
- ğŸ“² **PWA ì§€ì›** - í™ˆ í™”ë©´ì— ì•±ì²˜ëŸ¼ ì„¤ì¹˜ ê°€ëŠ¥
- ğŸ”„ **ì‹¤ì‹œê°„ ìƒˆë¡œê³ ì¹¨** - ìºì‹œ ìš°íšŒ ê°•ì œ ìƒˆë¡œê³ ì¹¨

---

## ğŸ® ì‚¬ìš© ë°©ë²•

```mermaid
graph TD
    A[ğŸ ì‚¬ì´íŠ¸ ì ‘ì†] --> B{ë³´ê¸° ëª¨ë“œ ì„ íƒ}
    B -->|í”¼ë“œ| C[ğŸ“± ì„¸ë¡œ ìŠ¤ì™€ì´í”„<br/>ìœ„ì•„ë˜ë¡œ ë„˜ê¸°ê¸°]
    B -->|ê·¸ë¦¬ë“œ| D[ğŸ–¼ï¸ ì¸ë„¤ì¼ ëª©ë¡<br/>í´ë¦­í•˜ì—¬ ì¬ìƒ]
    B -->|ì¶”ì–µ| E[ğŸ’• ì¶”ì–µ ëª¨ìŒ]

    C --> F[ğŸ¬ ì˜ìƒ ì¬ìƒ<br/>í„°ì¹˜ë¡œ ì¬ìƒ/ì •ì§€]
    D --> F

    E --> G{í•„í„° ì„ íƒ}
    G -->|íŠ¹ì • ë‚ ì§œ| H[ğŸ“… ë§¤ë…„ 12/25<br/>í¬ë¦¬ìŠ¤ë§ˆìŠ¤ ì˜ìƒ]
    G -->|ì›”ë³„ íƒ€ì„ë¼ì¸| I[ğŸ“† ì›”ë‹¹ 1ê°œì”©<br/>ëœë¤ ì„ íƒ]
    G -->|ì—°ë„ë³„| J[ğŸ—“ï¸ íŠ¹ì • ì—°ë„<br/>ëª¨ë“  ì˜ìƒ]

    H --> K[â–¶ï¸ ìŠ¬ë¼ì´ë“œì‡¼ ì¬ìƒ]
    I --> K
    J --> K

    style A fill:#f9f,stroke:#333,stroke-width:2px
    style E fill:#ff69b4,stroke:#333,stroke-width:2px
    style F fill:#4CAF50,stroke:#333,stroke-width:2px
```

### ğŸ“ í™”ë©´ë³„ ê°€ì´ë“œ

#### 1ï¸âƒ£ í”¼ë“œ ë·° (ë©”ì¸)
| ë™ì‘ | ì„¤ëª… |
|:---:|:---|
| â¬†ï¸ ìœ„ë¡œ ìŠ¤ì™€ì´í”„ | ë‹¤ìŒ ì˜ìƒ |
| â¬‡ï¸ ì•„ë˜ë¡œ ìŠ¤ì™€ì´í”„ | ì´ì „ ì˜ìƒ |
| ğŸ‘† í™”ë©´ í„°ì¹˜ | ì¬ìƒ/ì •ì§€ |
| ğŸ”Š ìŠ¤í”¼ì»¤ ì•„ì´ì½˜ | ìŒì†Œê±° í† ê¸€ |
| ğŸ”„ ìƒˆë¡œê³ ì¹¨ ë²„íŠ¼ | ìµœì‹  ëª©ë¡ ë¶ˆëŸ¬ì˜¤ê¸° |

#### 2ï¸âƒ£ ê·¸ë¦¬ë“œ ë·°
- ğŸ” **ê²€ìƒ‰**: ì œëª©/ì„¤ëª…ìœ¼ë¡œ ì˜ìƒ ê²€ìƒ‰
- ğŸ“· **ì¸ë„¤ì¼**: í´ë¦­í•˜ë©´ í•´ë‹¹ ì˜ìƒ ì¬ìƒ
- ğŸ“Š **ì •ë³´ í‘œì‹œ**: ì œëª©, ì´ëª¨ì§€, ì¬ìƒì‹œê°„

#### 3ï¸âƒ£ ì¶”ì–µ ëª¨ìŒ
| ëª¨ë“œ | ì„¤ëª… | ì˜ˆì‹œ |
|:---:|:---|:---|
| ğŸ“… íŠ¹ì • ë‚ ì§œ | ë§¤ë…„ ê°™ì€ ë‚  ì´¬ì˜ëœ ì˜ìƒ | í¬ë¦¬ìŠ¤ë§ˆìŠ¤, ìƒì¼ |
| ğŸ“† ì›”ë³„ íƒ€ì„ë¼ì¸ | ì›”ë‹¹ 1ê°œì”© ëœë¤ ì„ íƒ | 1ë…„ ìš”ì•½ |
| ğŸ—“ï¸ ì—°ë„ë³„ | íŠ¹ì • ì—°ë„ì˜ ëª¨ë“  ì˜ìƒ | 2023ë…„ ì¶”ì–µ |

---

## ğŸ—ï¸ ê¸°ìˆ  ìŠ¤íƒ

<div align="center">

| ì¹´í…Œê³ ë¦¬ | ê¸°ìˆ  |
|---------|------|
| **í”„ë ˆì„ì›Œí¬** | Next.js 16.0.10 (App Router) |
| **ë¼ì´ë¸ŒëŸ¬ë¦¬** | React 19.2.1 |
| **ì–¸ì–´** | TypeScript 5 |
| **ìŠ¤íƒ€ì¼ë§** | Tailwind CSS 4.0 |
| **ì¸ì¦** | Google OAuth 2.0 + JWT (jose) |
| **ìŠ¤í† ë¦¬ì§€** | Cloudflare R2 (S3 í˜¸í™˜) |
| **ë°°í¬** | Cloudflare Pages (Edge Runtime) |
| **í…ŒìŠ¤íŠ¸** | Vitest + Testing Library |

</div>

### ğŸ¨ ì•„í‚¤í…ì²˜

```mermaid
graph TB
    subgraph Client["ğŸ–¥ï¸ í´ë¼ì´ì–¸íŠ¸"]
        A[React App] --> B[VideoPlayer]
        A --> C[SwipeFeed]
        A --> D[GridView]
        A --> E[Memories]
    end

    subgraph Edge["âš¡ Edge Runtime"]
        F[Next.js API Routes]
        G[Middleware<br/>ì¸ì¦ ì²´í¬]
    end

    subgraph Storage["â˜ï¸ Cloudflare R2"]
        H[(videos/)]
        I[(thumbnails/)]
        J[(metadata.json)]
    end

    subgraph Auth["ğŸ” ì¸ì¦"]
        K[Google OAuth]
        L[JWT Session]
    end

    A -->|fetch| F
    F -->|CRUD| J
    A -->|ì§ì ‘ ìŠ¤íŠ¸ë¦¬ë°| H
    A -->|ì¸ë„¤ì¼ ë¡œë“œ| I
    F <-->|ì¸ì¦| K
    G -->|ê²€ì¦| L

    style Client fill:#e1f5fe
    style Edge fill:#fff3e0
    style Storage fill:#f3e5f5
    style Auth fill:#e8f5e9
```

---

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
clipplay/
â”œâ”€â”€ ğŸ“‚ src/
â”‚   â”œâ”€â”€ ğŸ“‚ app/                    # Next.js App Router
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ page.tsx            # ğŸ  ë©”ì¸ (í”¼ë“œ/ê·¸ë¦¬ë“œ)
â”‚   â”‚   â”œâ”€â”€ ğŸ“‚ memories/           # ğŸ’• ì¶”ì–µ ëª¨ìŒ
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ page.tsx        # í•„í„° ì„ íƒ
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“‚ play/           # ìŠ¬ë¼ì´ë“œì‡¼
â”‚   â”‚   â”œâ”€â”€ ğŸ“‚ clip/[id]/          # ğŸ¬ ê°œë³„ ì˜ìƒ í˜ì´ì§€
â”‚   â”‚   â”œâ”€â”€ ğŸ“‚ admin/              # ğŸ” ê´€ë¦¬ì ì˜ì—­
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ page.tsx        # ëŒ€ì‹œë³´ë“œ
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“‚ login/          # Google ë¡œê·¸ì¸
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“‚ upload/         # ì—…ë¡œë“œ í˜ì´ì§€
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“‚ clips/          # ì˜ìƒ ê´€ë¦¬
â”‚   â”‚   â””â”€â”€ ğŸ“‚ api/                # âš¡ API ë¼ìš°íŠ¸ (Edge)
â”‚   â”‚       â”œâ”€â”€ ğŸ“‚ auth/           # ì¸ì¦ API
â”‚   â”‚       â””â”€â”€ ğŸ“‚ admin/          # ê´€ë¦¬ API
â”‚   â”œâ”€â”€ ğŸ“‚ components/             # ğŸ§© React ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”œâ”€â”€ ğŸ“‚ player/             # ë¹„ë””ì˜¤ í”Œë ˆì´ì–´
â”‚   â”‚   â”œâ”€â”€ ğŸ“‚ clip/               # í´ë¦½ ê´€ë ¨ UI
â”‚   â”‚   â””â”€â”€ ğŸ“‚ ui/                 # ê³µí†µ UI
â”‚   â”œâ”€â”€ ğŸ“‚ hooks/                  # ğŸª ì»¤ìŠ¤í…€ í›…
â”‚   â”œâ”€â”€ ğŸ“‚ context/                # ğŸŒ React Context
â”‚   â”œâ”€â”€ ğŸ“‚ lib/                    # ğŸ”§ ìœ í‹¸ë¦¬í‹°
â”‚   â”‚   â”œâ”€â”€ ğŸ“‚ auth/               # ì¸ì¦ ë¡œì§
â”‚   â”‚   â”œâ”€â”€ ğŸ“‚ r2/                 # R2 ìŠ¤í† ë¦¬ì§€
â”‚   â”‚   â””â”€â”€ ğŸ“‚ clips/              # í´ë¦½ í•„í„°ë§
â”‚   â””â”€â”€ ğŸ“‚ types/                  # ğŸ“ TypeScript íƒ€ì…
â”œâ”€â”€ ğŸ“‚ public/                     # ì •ì  íŒŒì¼
â”‚   â”œâ”€â”€ ğŸ“„ manifest.json           # PWA ë§¤ë‹ˆí˜ìŠ¤íŠ¸
â”‚   â””â”€â”€ ğŸ“„ sw.js                   # Service Worker
â””â”€â”€ ğŸ“„ package.json
```

---

## ğŸ” ê´€ë¦¬ì ê¸°ëŠ¥

### ğŸ“¤ ì˜ìƒ ì—…ë¡œë“œ ì›Œí¬í”Œë¡œìš°

```mermaid
sequenceDiagram
    participant U as ğŸ‘¤ ê´€ë¦¬ì
    participant C as ğŸ–¥ï¸ í´ë¼ì´ì–¸íŠ¸
    participant A as âš¡ API (Edge)
    participant R as â˜ï¸ R2 Storage

    U->>C: 1. ì˜ìƒ íŒŒì¼ ì„ íƒ
    C->>C: 2. ì¸ë„¤ì¼ ìº¡ì²˜ (ì„ íƒ)
    C->>A: 3. Presigned URL ìš”ì²­
    A->>C: 4. ì—…ë¡œë“œ URL ë°œê¸‰
    C->>R: 5. ì§ì ‘ ì—…ë¡œë“œ (ì§„í–‰ë¥  í‘œì‹œ)
    R->>C: 6. ì—…ë¡œë“œ ì™„ë£Œ
    C->>A: 7. ë©”íƒ€ë°ì´í„° ì €ì¥
    A->>R: 8. metadata.json ì—…ë°ì´íŠ¸
    A->>C: 9. ì™„ë£Œ ì‘ë‹µ
```

### âœ… ì—…ë¡œë“œ ì œí•œì‚¬í•­

| í•­ëª© | ì œí•œ |
|:---:|:---:|
| ğŸ“ íŒŒì¼ í¬ê¸° | ìµœëŒ€ 200MB |
| ğŸ¥ íŒŒì¼ í˜•ì‹ | video/* (MP4 ê¶Œì¥) |
| ğŸ–¼ï¸ ì¸ë„¤ì¼ | ìë™ ìº¡ì²˜ ë˜ëŠ” ì§ì ‘ ì—…ë¡œë“œ |
| ğŸ“… ì´¬ì˜ì¼ | íŒŒì¼ ìˆ˜ì •ì¼ ìë™ ê°ì§€ |

---

## ğŸ’¾ ë°ì´í„° ëª¨ë¸

### ğŸ“¹ Clip (ì˜ìƒ)

```typescript
interface Clip {
  id: string;              // ê³ ìœ  ID
  title: string;           // ì œëª©
  description?: string;    // ì„¤ëª… (ì„ íƒ)
  emoji: string;           // ëŒ€í‘œ ì´ëª¨ì§€ ğŸ¬
  fileKey: string;         // videos/xxx.mp4
  fileSize: number;        // íŒŒì¼ í¬ê¸° (bytes)
  duration: number;        // ì¬ìƒ ì‹œê°„ (ì´ˆ)
  thumbnailKey?: string;   // thumbnails/xxx.jpg
  filmingDate?: string;    // ì´¬ì˜ì¼ (YYYY-MM-DD)
  createdAt: string;       // ìƒì„±ì¼ì‹œ
  updatedAt: string;       // ìˆ˜ì •ì¼ì‹œ
}
```

---

## ğŸ’» ë¡œì»¬ì—ì„œ ì‹¤í–‰í•˜ê¸°

### ğŸ“‹ ì‚¬ì „ ì¤€ë¹„ë¬¼

1. **Node.js 20+** - [ë‹¤ìš´ë¡œë“œ](https://nodejs.org/)
2. **Cloudflare ê³„ì •** - R2 ë²„í‚· í•„ìš”
3. **Google Cloud Console** - OAuth ì„¤ì •

### ğŸ”§ í™˜ê²½ ë³€ìˆ˜ ì„¤ì •

`.env.local` íŒŒì¼ ìƒì„±:

```bash
# ğŸŒ ê³µê°œ URL
NEXT_PUBLIC_R2_PUBLIC_URL=https://your-bucket.r2.dev
NEXT_PUBLIC_BASE_URL=http://localhost:3000

# ğŸ” Google OAuth
NEXT_PUBLIC_GOOGLE_CLIENT_ID=your-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-client-secret

# ğŸ”‘ ì„¸ì…˜
JWT_SECRET=your-super-secret-key-min-32-chars

# â˜ï¸ Cloudflare R2
R2_ACCOUNT_ID=your-account-id
R2_ACCESS_KEY_ID=your-access-key
R2_SECRET_ACCESS_KEY=your-secret-key
R2_BUCKET_NAME=your-bucket-name
```

### ğŸš€ ì‹¤í–‰ ë°©ë²•

```bash
# 1ï¸âƒ£ í”„ë¡œì íŠ¸ í´ë¡ 
git clone <repository-url>
cd clipplay

# 2ï¸âƒ£ ì˜ì¡´ì„± ì„¤ì¹˜
npm install

# 3ï¸âƒ£ ê°œë°œ ì„œë²„ ì‹¤í–‰
npm run dev
```

ë¸Œë¼ìš°ì €ì—ì„œ http://localhost:3000 ì ‘ì†! ğŸ‰

### âš™ï¸ ì‚¬ìš© ê°€ëŠ¥í•œ ëª…ë ¹ì–´

| ëª…ë ¹ì–´ | ì„¤ëª… |
|-------|------|
| `npm run dev` | ğŸ”§ ê°œë°œ ì„œë²„ ì‹¤í–‰ (í¬íŠ¸ 3000) |
| `npm run build` | ğŸ“¦ í”„ë¡œë•ì…˜ ë¹Œë“œ ìƒì„± |
| `npm run start` | â–¶ï¸ ë¹Œë“œëœ ì•± ì‹¤í–‰ |
| `npm run lint` | ğŸ” ESLint ì½”ë“œ ê²€ì‚¬ |
| `npm run test` | ğŸ§ª Vitest í…ŒìŠ¤íŠ¸ ì‹¤í–‰ |
| `npm run test:ui` | ğŸ“Š í…ŒìŠ¤íŠ¸ UI ëŒ€ì‹œë³´ë“œ |

---

## ğŸŒ ë°°í¬í•˜ê¸°

### â˜ï¸ Cloudflare Pages ë°°í¬

```bash
# ë¹Œë“œ ëª…ë ¹ì–´
npx @cloudflare/next-on-pages

# ì¶œë ¥ ë””ë ‰í† ë¦¬
.vercel/output/static
```

### ğŸ”’ R2 CORS ì„¤ì •

Cloudflare Dashboard â†’ R2 â†’ ë²„í‚· â†’ Settings â†’ CORS:

```json
[
  {
    "AllowedOrigins": [
      "http://localhost:3000",
      "https://clipplay.pages.dev"
    ],
    "AllowedMethods": ["GET", "PUT", "HEAD"],
    "AllowedHeaders": ["Content-Type"],
    "MaxAgeSeconds": 3600
  }
]
```

---

## ğŸ”’ ë³´ì•ˆ

| í•­ëª© | êµ¬í˜„ |
|:---:|:---|
| ğŸ” **ì„¸ì…˜** | JWT (HS256, 7ì¼ ë§Œë£Œ) |
| ğŸª **ì¿ í‚¤** | HttpOnly, Secure, SameSite |
| ğŸ‘¤ **ê¶Œí•œ** | ì´ë©”ì¼ í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ |
| ğŸ“¤ **ì—…ë¡œë“œ** | Presigned URL (1ì‹œê°„ ë§Œë£Œ) |
| ğŸ”‘ **API í‚¤** | ì„œë²„ ì‚¬ì´ë“œë§Œ ì ‘ê·¼ ê°€ëŠ¥ |

---

## ğŸ¯ í–¥í›„ ê°œì„  ì‚¬í•­

- [ ] ğŸµ ë°°ê²½ìŒì•…/ìŒì†Œê±° ê¸°ì–µ
- [ ] ğŸ“Š ì‹œì²­ í†µê³„ ëŒ€ì‹œë³´ë“œ
- [ ] ğŸ·ï¸ íƒœê·¸ ì‹œìŠ¤í…œ
- [ ] ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ ê°€ì¡± êµ¬ì„±ì›ë³„ í•„í„°
- [ ] ğŸ“± ë„¤ì´í‹°ë¸Œ ì•± (React Native)
- [ ] ğŸŒ ë‹¤êµ­ì–´ ì§€ì›

---

## ğŸ“„ ë¼ì´ì„ ìŠ¤

ì´ í”„ë¡œì íŠ¸ëŠ” MIT ë¼ì´ì„ ìŠ¤ë¥¼ ë”°ë¦…ë‹ˆë‹¤.

---

## ğŸ‘¨â€ğŸ’» ë§Œë“  ì‚¬ëŒ

**izowooi**

ê¶ê¸ˆí•œ ì ì´ë‚˜ ì œì•ˆì‚¬í•­ì´ ìˆìœ¼ì‹œë©´ Issueë¥¼ ë‚¨ê²¨ì£¼ì„¸ìš”! ğŸ’¬

---

<div align="center">

**â­ ì´ í”„ë¡œì íŠ¸ê°€ ë§ˆìŒì— ë“œì…¨ë‹¤ë©´ Starë¥¼ ëˆŒëŸ¬ì£¼ì„¸ìš”! â­**

Made with â¤ï¸ for Family Memories

[ğŸ¬ ì§€ê¸ˆ ì‹œì‘í•˜ê¸°](https://clipplay.pages.dev/)

</div>
