# 노노그램 문제지 출력 웹앱 - 요구사항 명세서 (PRD)

## 1. 프로젝트 개요
노노그램 해답 데이터를 기반으로 문제지와 답안지를 A4 용지에 출력할 수 있는 웹앱

## 2. 핵심 기능
- 문제 데이터(all_stages.json) 기반 힌트 자동 생성
- A4 인쇄용 문제지/답안지 출력
- 다색상(8색) 노노그램 지원

## 3. 출력 형식
- A4 한 장에 문제 1개
- 격자무늬 그리드 (5x5 단위 굵은 선)
- 색상별 숫자 힌트 (컬러 프린터 권장)

## 4. 문제지 표시 정보
- 제목 (예: 물고기, 하트)
- 힌트 (예: 물속에서 헤엄쳐요)
- 난이도 (1-5, 별표로 표시)
- 카테고리 (동물, 사물, 자연, 음식)
- 색상 범례

## 5. 색상 매핑 (고정 색상표)
| 코드 | 색상 | HEX |
|------|------|-----|
| 0 | 공백 | - |
| 1 | 검정 | #000000 |
| 2 | 빨강 | #FF0000 |
| 3 | 파랑 | #0000FF |
| 4 | 초록 | #00AA00 |
| 5 | 노랑 | #FFD700 |
| 6 | 주황 | #FFA500 |
| 7 | 보라 | #800080 |
| 8 | 갈색 | #8B4513 |

## 6. 답안지
- 별도 페이지로 출력
- 그리드에 정답 색상 채워서 표시

## 7. 기술 스택
- Next.js 15
- React 19
- Tailwind CSS 4
- TypeScript

## 8. 배포
- Cloudflare Pages
- 정적 사이트 (백엔드 불필요)
- `next.config.ts`에 `output: 'export'` 설정됨

## 9. 데이터 구조
문제 데이터는 JSON 형식으로 저장 (`docs/all_stages.json`):
- id: 문제 고유 ID (예: "stage_001")
- title: 제목 (예: "하트")
- hint: 힌트 문구 (예: "사랑을 표현할 때 그려요")
- category: 카테고리 (예: "사물")
- difficulty: 난이도 (1-5)
- size: [rows, cols] (예: [15, 15])
- palette: 사용된 색상 이름 배열 (참고용)
- grid: 2D 숫자 배열 (0=공백, 1-8=색상)

## 10. 파일 구조
```
nonogram/
├── docs/
│   ├── prd.txt (이 파일)
│   └── all_stages.json (문제 데이터)
├── src/
│   ├── app/
│   │   ├── page.tsx (메인: 문제 목록)
│   │   ├── print/page.tsx (인쇄 페이지)
│   │   ├── layout.tsx
│   │   └── globals.css (인쇄 스타일 포함)
│   ├── components/
│   │   ├── NonogramGrid.tsx (격자 렌더링)
│   │   ├── HintDisplay.tsx (행/열 힌트)
│   │   ├── ColorLegend.tsx (색상 범례)
│   │   └── PuzzlePage.tsx (문제/답안 페이지)
│   ├── lib/
│   │   ├── colors.ts (색상 매핑)
│   │   └── nonogram.ts (힌트 생성 알고리즘)
│   └── types/
│       └── nonogram.ts (타입 정의)
├── public/
│   └── stages.json (all_stages.json 복사본)
├── package.json
├── next.config.ts
└── tsconfig.json
```

## 11. 사용법
1. 메인 페이지에서 출력할 문제 선택 (체크박스)
2. "문제지 인쇄", "답안지 인쇄", 또는 "문제+답안 인쇄" 버튼 클릭
3. 인쇄 미리보기 페이지에서 확인
4. "인쇄하기" 버튼 또는 브라우저 인쇄 기능(Ctrl+P) 사용

## 12. 인쇄 최적화
- 각 문제/답안은 별도 페이지로 분리 (page-break-after)
- 인쇄 시 컨트롤 바 숨김 (.no-print 클래스)
- 색상 정확도 유지 (print-color-adjust: exact)
- A4 용지 기준 마진 설정

---

## 원본 요구사항 (참고용)

노노그램 데이터를 확인해서 문제를 출력하는 웹 앱을 만들어야 합니다.
예를 들어
3by3 데이터가 아래와 같이 있다고 가정합니다.
여기서 0 은 공백(빈칸) 1은 검은색을 뜻합니다.
0 1 1
1 0 1
0 1 1

위의 경우 출력해야 하는 데이터는 아래와 같습니다.
보면 우측 하단에 4,5,6행, 4,5,6열 0이 9개 있는 3by3 그리드가 바로 유저가 답안을 넣어야 하는 곳입니다.
그 위쮝에 [0 1 0, 1 1 3] 은 바로 힌트입니다.
이 히트를 보고 유저는 해당 열에 몇개의 검은색이 있는지 알 수 있습니다.
만일 3 이라면 해당 열은 3칸이 연이어서 검은 색이라는 뜻입니다.
1 1 이라면 해당 열에는 서로 떨어진 검은색이 하나씩 있다는 것입니다.
마찬가지로 [0 2, 1 1, 0 2] 도 같은식으로 해석합니다.
0 2 는 해당행에 2개가 연달아 있는 색이 있다는 뜻이며,
1 1 는 해당행에 서로 떨어진 검은색이 있다는 것입니다.
    0 1 0
    1 1 3
0 2 0 0 0
1 1 0 0 0
0 2 0 0 0

이를 사용자가 격자무늬로 프린트 할 수 있어야 합니다.
해답을 가지고, 이렇게 문제를 내서 프린트 할 수 있는 게 이 웹앱의 핵심 기능입니다.
위 예시는 단순히 검은색과 하얀색으로 된 이미지이며, 실제 모노그램 데이터는 제가 8색을 사용해서 제작했습니다.
예를 들어 처음 예시로 제작된 이미지가 아래와 같다고 가정하겠습니다.
아래의 이미지에서 1은 붉은색, 2는 노란색이라고 가정합니다.
0 1 1
1 0 2
0 1 2

그렇다면 사용자에게 제공해야 하는 이미지는 아래와 같습니다.
[0 1 1] 에서 1 은 모두 붉은 색입니다.
[1 1 2] 에서 1은 붉은색 2는 노란색으로 표시해야합니다.
    0 1 1
    1 1 2
0 2 0 0 0
1 1 0 0 0
1 1 0 0 0
마찬가지로 [0 2] 는 붉은색이며
4번째 행 [1 1] 에서 왼쪽 1은 붉은색, 오른쪽 1은 노란색입니다.
마지막 5번째 [1 1] 에서 왼쪽 1은 붉은색, 오른쪽 1은 노란색입니다.

문제는 이미 all_stages.json 에 준비되어있습니다.
해당 문제의 해답과, 문제를 출력할 수 있는 웹앱을 만들어주세요.
Next.js 를 선호하며, 벡엔드는 필요 없어 보입니다.
cloudflare pages 로 배포할 것입니다.
